<div class = "container">
  <div class = "row">
    
  <br><br>
    <form id="newLego" class="button-size">
      <textarea type="text" id="object" placeholder="New Project..." ></textarea>
      <button type="submit" id="submit">submit</button>
    </form>

  </div>

  <div  class = "row">
    <div id = "col1" class = "col-6">
      <!-- List all non-built lego objects entered -->
 
      <h4>Projects to be built:</h4>

      <ul>
      {{#each data}}
       {{#unless this.built}}
        <li> <text id="txtbx-lf">{{this.object}}</text>
        <button type="submit" id="build" value="Build">Build</button>,
        </li>
        {{/unless}}
      {{/each}}
      </ul>
      
    </div>  <!-- end of first column (left side) -->
<br><br><br><br>
    <div id ="col2" class = "col-6">

      <h4>Completed projects: </h4>
      
      <ul>
      {{#each data }}
       {{#if this.built}}
        <li> <text id="txtbx-rt">{{this.object}}</text>       
          <button type="submit" id="break" value="Disassemble">Disassemble</button>,
        </li>
        {{/if}}
      {{/each}}
      </ul>
    </div>
   
  </div>  <!--end of 'row' div that defines the body -->

</div>    <!--end of container div -->
   <script>

      var currentUrl = window.location.origin;

    $("#newLego").on("submit", function(event) {
      event.preventDefault();


      // Here we grab the form elements
      var newLego = {
        object: $("#object").val().trim(),
        built: false            //default when first entered
      };

      console.log(newLego);


      $.post(currentUrl+ "/", newLego,
        function(data) {

         // let them know the entry was received

          if (data) {
            alert("The blocks are ready for your new project..");
          }

          //window.location.reload();

          // Clear the form when submitting
          $("#object").val("");

              
        });

    });


  $("#build").on("click",function(){

    // set the 'built' property to 'true' so the object can move to the right
    //of the screen when sorted

     this.built = true;
     $.post(currentUrl + "/legos")
      console.log(legoData);
     //no new data to post, but the modified data should change
     //the location of the variable

  });
    </script>